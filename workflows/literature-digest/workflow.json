{
  "id": "literature-digest",
  "label": "Literature Digest",
  "provider": "skillrunner",
  "version": "0.1.0",
  "inputs": {
    "unit": "attachment",
    "accepts": {
      "mime": ["text/markdown", "text/x-markdown", "text/plain"]
    },
    "per_parent": {
      "min": 1,
      "max": 1
    }
  },
  "request": {
    "kind": "skillrunner.job.v1",
    "create": {
      "skill_id": "literature-digest"
    },
    "input": {
      "upload": {
        "files": [
          { "key": "md_path", "from": "selected.markdown" }
        ]
      }
    }
  },
  "parameters": {
    "language": {
      "type": "string",
      "title": "Language",
      "enum": [
        "zh-CN",
        "en-US",
        "ja-JP",
        "ko-KR",
        "de-DE",
        "fr-FR",
        "es-ES",
        "ru-RU"
      ],
      "allowCustom": true,
      "default": "zh-CN"
    }
  },
  "execution": {
    "mode": "auto",
    "poll_interval_ms": 2000,
    "timeout_ms": 1200000
  },
  "result": {
    "fetch": { "type": "bundle" },
    "expects": {
      "result_json": "result/result.json",
      "artifacts": ["artifacts/digest.md", "artifacts/references.json"]
    }
  },
  "hooks": {
    "filterInputs": "hooks/filterInputs.js",
    "applyResult": "hooks/applyResult.js"
  }
}
